<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Contactz</title>
	<link rel="icon" type="image/x-icon" href="/images/LogoCropped.png">
	<link rel="stylesheet" href="/sass/main.css" />
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
		rel="stylesheet">
	<script type="text/javascript">
		document.addEventListener(
			"DOMContentLoaded",
			function () {
				readCookie();
			},
			false
		);
	</script>
</head>

<body>

	<nav id="navbar" class="navbar sticky-top navbar-expand-md bg-altpurple navbar-dark py-3">
		<div class="container">
			<a href="/index.html" onclick="doLogout()" class="navbar-brand">
				<span class="fw-bold text-light txt-shadow"> Contactz </span>
			</a>

			<!-- Hamburger Toggle -->
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navmenu"
				aria-controls="navmenu" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<!-- Nav Links -->
			<div class="collapse navbar-collapse justify-content-end align-center" id="navmenu">
				<ul class="navbar-nav ms-auto">
					<a href="/index.html#aboutUs" onclick="doLogout();" class="nav-link text-light txt-shadow">About
						Us</a>
				</ul>
				<ul class="navbar-nav">
					<a href="/index.html" onclick="doLogout();" class="nav-link text-light txt-shadow">Log Out</a>
				</ul>
			</div>
		</div>
	</nav>

	<section id="contact-section">
		<div class="my-containers shawdow text-center p-3 p-lg-5">
			<div id="title" class="display-5 text-altpurple fw-normal">
				<div class="d-inline text-black" id="userName"></div> Contactz
			</div>
			<h4 class="text-muted my-2">
				Below you can add, edit, search, and delete your contacts!
			</h4>

			<div id="loggedInDiv" class="container text-center p-2">

			</div>

			<div id="accessUIDiv" class="container-fluid rounded p-0">
				<!--Search bar-->
				<div class="row rounded-top bg-altpurple p-3">
					<div class="input-group">
						<!-- <select class="form-select d-none d-md-inline" id="searchType">
							<option value="firstName" selected>First Name</option>
							<option value="lastName">Last Name</option>
							<option value="phone">Number</option>
							<option value="email">Mail</option>
						</select> -->
						<input type="text" id="searchText" class="form-control w-50"
							placeholder="Contact To Search For" />
						<script>
							window.onload = function () {
								searchContact();
							};
						</script>
						<script>
							document.getElementById('searchText').addEventListener('keyup', function (event) {
								searchContact();
							});
						</script>
						<button type="button" id="searchColorButton" class="btn btn-altlight"
							onclick="searchContact();">
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
								class="bi bi-search" viewBox="0 0 16 16">
								<path
									d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" />
							</svg>
						</button>
					</div>
				</div>
				<div class="pageButtons d-flex flex-row justify-content-evenly p-5">
					<button onclick="pageDown()" class="btn bg-altpurple text-altwhite" id="prevButton">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-caret-left-fill" viewBox="0 0 16 16">
							<path
								d="m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z" />
						</svg>
					</button>
					<div class="align-self-center fw-bold font-size-custom">Page <span id="pageNum">1</span></div>
					<button onclick="pageUp()" class="btn bg-altpurple text-altwhite" id="nextButton">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-caret-right-fill" viewBox="0 0 16 16">
							<path
								d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z" />
						</svg>
					</button>
				</div>

				<span id="colorSearchResult"></span>
				<!-- <button onclick="practiceContacts.forEach(contact => {
					addElement(contact);
				});
				">click here</button> -->
				<p id="searchResults" class="container-fluid p-0"></p>
				<br /><br />
				<!--Example contact-->
				<!-- <div class="row">
					<div class="col-2 text-start">John</div>
					<div class="col-2 text-start">Doe</div>
					<div class="col-4 text-start">555-555-5555</div>
					<div class="col-4 text-start">example@mail.com</div>
				</div>
				<div class="row p-2">
					<div class="input-group">
						<input type="text" class="form-control" placeholder="First Name" />
						<input type="text" class="form-control" placeholder="Last Name" />
						<input type="text" class="form-control" placeholder="Number" />
						<input type="text" class="form-control" placeholder="Email" />
						<button class="btn btn-altlight">
							Add Contact
						</button>
					</div>
				</div> -->

				<div id="myModal" class="modal height" tabindex="-1">
					<div class="modal-dialog modal-dialog-centered">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title">Add a Contact</h5>
								<button type="button" class="btn-close" data-bs-dismiss="modal"
									aria-label="Close"></button>
							</div>
							<div class="modal-body d-flex flex-column justify-content-end">
								<input type="text" class="mb-2" placeholder="First Name" id="addFirstName">
								<input type="text" class="mb-2" placeholder="Last Name" id="addLastName">
								<input type="tel" class="mb-2" placeholder="Number" id="addPhone" maxlength="12">
								<script>
									let field = document.getElementById("addPhone");
									field.addEventListener("keypress", function (event) {
										if (String(field.value).length == 3 || String(field.value).length == 7)
											//console.log("ADD A DASH")
											field.value = field.value + '-';
									})
								</script>
								<input type="email" class="mb-2" placeholder="Email" id="addEmail">

							</div>
							<div class="modal-footer">
								<div id="addErrors" class="ms-auto"></div>
								<button type="button" class="btn btn-altgray text-white" data-bs-dismiss="modal">
									Cancel
								</button>
								<button type="button" class="btn btn-altpurple text-white" onclick="addContact()">
									Add Contact
								</button>
							</div>
						</div>
					</div>
				</div>
				<!-- Prof code
						<input type="text" id="colorText" placeholder="Contact To Add" />
						<button type="button" id="addColorButton" class="btn btn-altlight mt-2" onclick="addColor();">
							Add Contact</button><br />
							<span id="colorAddResult"></span>
						-->
				<div id="myInput" class="btn rounded-circle btn-altpurple" data-bs-toggle="modal"
					data-bs-target="#myModal">
					<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" style="aspect-ratio: 1;" fill="white"
						class="bi bi-plus-xl" viewBox="0 0 16 16">
						<path fill-rule="evenodd"
							d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2" />
					</svg>
				</div>
			</div>
		</div>
	</section>

	<script>
		var myModal1 = document.getElementById("myModal");
		// var myInput = document.getElementById("myInput");

		myModal1.addEventListener("shown.bs.modal", function () {
			var myInput = document.getElementById("addFirstName");
			myInput.focus();
		});
	</script>

	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
		integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
		integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
		crossorigin="anonymous"></script>
	<script src="js/logReg.js"></script>
	<script src="js/search.js"></script>
	<script src="js/add.js"></script>
</body>

</html>